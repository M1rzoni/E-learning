<div class="course-detail-container" *ngIf="course && !isLoading">
  <!-- Breadcrumb navigacija -->
  <nav class="breadcrumb">
    <a routerLink="/home">PoÄetna</a> &gt;
    <a routerLink="/courses">Kursevi</a> &gt;
    <span>{{ course.title }}</span>
    
    <!-- Admin akcije -->
    <span *ngIf="isAdmin" class="admin-actions">
      &gt; <a (click)="editCourse()" class="admin-link">Uredi</a>
      &gt; <a (click)="deleteCourse()" class="admin-link delete">ObriÅ¡i</a>
    </span>
  </nav>

  <!-- Glavni sadrÅ¾aj kursa -->
  <div class="course-header">
    <div class="course-info">
      <h1>{{ course.title }}</h1>
      <p class="course-description">{{ course.description }}</p>
      
      <div class="course-meta">
        <span class="category-badge">{{ course.category }}</span>
        <div class="rating">
          <span class="stars">â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</span>
          <span class="rating-text">4.8 (256 recenzija)</span>
        </div>
        <div class="students-count">
          <span class="icon">ğŸ‘¥</span>
          <span>1,245 studenata</span>
        </div>
      </div>

      <div class="instructor">
        <div class="instructor-avatar">ğŸ‘¨â€ğŸ«</div>
        <div class="instructor-info">
          <h4>PredavaÄ: Profesor Adis</h4>
          <p>Senior developer sa 10+ godina iskustva</p>
        </div>
      </div>

      <!-- Sekcija za kupovinu -->
      <div class="purchase-section" *ngIf="currentUser && !isPurchased">
        <h3>Kupi Kurs</h3>
        <p class="price">Cijena: {{ course.price ? (course.price + 'â‚¬') : 'Besplatno' }}</p>
        <p class="balance">Tvoj balans: {{ userBalance }}â‚¬</p>
        
        <div class="purchase-actions">
          <button 
            class="btn-enroll" 
            (click)="purchaseCourse()"
            [disabled]="isPurchasing || (course.price > 0 && userBalance < course.price)"
          >
            <span *ngIf="!isPurchasing">ğŸ›’ Kupi odmah</span>
            <span *ngIf="isPurchasing">â³ Obrada...</span>
          </button>
          
          <button 
            class="btn-wishlist"
            (click)="toggleSaveCourse()"
          >
            <span *ngIf="!isSaved">â¤ï¸ SaÄuvaj za kasnije</span>
            <span *ngIf="isSaved">âŒ Ukloni iz saÄuvanih</span>
          </button>
        </div>

        <div *ngIf="course.price > 0 && userBalance < course.price" class="insufficient-funds">
          <p>NemaÅ¡ dovoljno sredstava! Trenutni balans: {{ userBalance }}â‚¬</p>
          <div class="add-funds">
            <button (click)="addFunds(10)">+10â‚¬</button>
            <button (click)="addFunds(20)">+20â‚¬</button>
            <button (click)="addFunds(50)">+50â‚¬</button>
            <button (click)="goToWallet()" class="btn-wallet">ğŸ’° Upravljaj novÄanikom</button>
          </div>
        </div>
      </div>

      <div *ngIf="isPurchased" class="purchased-info">
        <h3>âœ… VeÄ‡ ste kupili ovaj kurs</h3>
        <p>MoÅ¾ete pristupti sadrÅ¾aju kursa odmah.</p>
      </div>

      <div *ngIf="!currentUser" class="login-required">
        <h3>âš ï¸ Potrebna prijava</h3>
        <p>Morate biti prijavljeni da biste kupili ili saÄuvali ovaj kurs.</p>
        <a routerLink="/login" class="btn-enroll">Prijavi se</a>
      </div>
    </div>

    <div class="course-image">
      <img *ngIf="course.image" [src]="'http://localhost/eucenje-backend/' + course.image" alt="{{ course.title }}">
      <div *ngIf="!course.image" class="image-placeholder">
        <span>ğŸ“š</span>
        <p>Slika kursa</p>
      </div>
      
      <div class="course-highlights">
        <div class="highlight">
          <span class="icon">â±ï¸</span>
          <span>10h video sadrÅ¾aja</span>
        </div>
        <div class="highlight">
          <span class="icon">ğŸ“</span>
          <span>25 vjeÅ¾bi</span>
        </div>
        <div class="highlight">
          <span class="icon">ğŸ“…</span>
          <span>Puni pristup zauvijek</span>
        </div>
        <div class="highlight">
          <span class="icon">ğŸ“±</span>
          <span>Dostupno na svim ureÄ‘ajima</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Detalji i curriculum -->
  <div class="course-content">
    <div class="content-nav">
      <button class="nav-btn active">Pregled</button>
      <button class="nav-btn">Curriculum</button>
      <button class="nav-btn">Recenzije</button>
      <button class="nav-btn">Diskusije</button>
    </div>

    <div class="content-section">
      <h3>Å ta Ä‡ete nauÄiti</h3>
      <ul class="learning-list">
        <li>âœ”ï¸ Savladati osnove {{ course.category }} razvoja</li>
        <li>âœ”ï¸ Napredne tehnike i najbolje prakse</li>
        <li>âœ”ï¸ PraktiÄni projekti za portfolio</li>
        <li>âœ”ï¸ Priprema za posao u industriji</li>
      </ul>
    </div>

    <div class="content-section">
      <h3>Za koga je ovaj kurs</h3>
      <ul class="audience-list">
        <li>â€¢ PoÄetnici koji Å¾ele da nauÄe {{ course.category }}</li>
        <li>â€¢ Srednje napredni koji Å¾ele da usavrÅ¡e svoje veÅ¡tine</li>
        <li>â€¢ Profesionalci koji Å¾ele da proÅ¡ire svoje znanje</li>
      </ul>
    </div>
  </div>

  <!-- PreporuÄeni kursevi -->
  <div class="related-courses">
    <h2>SliÄni kursevi</h2>
    <div class="courses-grid">
      <div class="course-card">
        <div class="card-image">
          <div class="image-placeholder">ğŸ’»</div>
        </div>
        <div class="card-content">
          <h4>Napredni {{ course.category }} koncepti</h4>
          <p class="card-description">Produbite svoje znanje sa naprednim temama</p>
          <div class="card-meta">
            <span class="card-category">{{ course.category }}</span>
            <span class="card-price">59.99â‚¬</span>
          </div>
        </div>
      </div>

      <div class="course-card">
        <div class="card-image">
          <div class="image-placeholder">ğŸš€</div>
        </div>
        <div class="card-content">
          <h4>{{ course.category }} projekti za portfolio</h4>
          <p class="card-description">Izgradite impresivan portfolio sa realnim projektima</p>
          <div class="card-meta">
            <span class="card-category">{{ course.category }}</span>
            <span class="card-price">44.99â‚¬</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading state -->
<div *ngIf="isLoading" class="loading-container">
  <div class="loading-spinner"></div>
  <p>UÄitavanje detalja kursa...</p>
</div>

<!-- Error state -->
<div *ngIf="!course && !isLoading" class="error-container">
  <h2>ğŸ˜• Kurs nije pronaÄ‘en</h2>
  <p>TraÅ¾eni kurs ne postoji ili nije dostupan.</p>
  <a routerLink="/courses" class="btn-primary">Vrati se na kurseve</a>
</div>

 <div *ngIf="isAdmin" class="admin-info">
    <h4>ğŸ”§ Admin Mode</h4>
    <p>Vi imate administratorske privilegije za ureÄ‘ivanje kurseva.</p>
    <div class="admin-buttons">
      <button (click)="editCourse()" class="btn-edit">âœï¸ Uredi Kurs</button>
      <button (click)="deleteCourse()" class="btn-delete">ğŸ—‘ï¸ ObriÅ¡i Kurs</button>
    </div>
  </div>
