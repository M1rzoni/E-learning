<div class="auth-container">
  <h2>{{ isLoginMode ? 'Prijava' : 'Registracija' }}</h2>
  
  <form (ngSubmit)="onSubmit()" *ngIf="!isLoading; else loading">
    <div *ngIf="!isLoginMode" class="form-group">
      <label>Ime i prezime:</label>
      <input type="text" [(ngModel)]="name" name="name" required 
             [disabled]="isLoading" placeholder="Unesite vaše ime" />
    </div>

    <div class="form-group">
      <label>Email:</label>
      <input type="email" [(ngModel)]="email" name="email" required 
             [disabled]="isLoading" placeholder="unesite@email.com" />
    </div>

    <div class="form-group">
      <label>Lozinka:</label>
      <input type="password" [(ngModel)]="password" name="password" required 
             [disabled]="isLoading" placeholder="Unesite lozinku" />
      <small *ngIf="!isLoginMode" style="color: #666;">Lozinka mora imati najmanje 6 karaktera</small>
    </div>

 <div *ngIf="!isLoginMode" class="form-group">
      <label>Uloga:</label>
      <select title="uloga" [(ngModel)]="role" name="role" class="form-control" [disabled]="isLoading">
        <option value="student">Student</option>
        <option value="predavač">Predavač</option>
        <option value="admin">Administrator</option>
      </select>
    </div>

    <button type="submit" class="btn-primary" [disabled]="isLoading">
      {{ isLoginMode ? 'Prijavi se' : 'Registruj se' }}
    </button>
  </form>

  <ng-template #loading>
    <div class="loading-container">
      <p>Učitavanje...</p>
    </div>
  </ng-template>

  <p class="toggle-mode">
    {{ isLoginMode ? 'Nemate račun?' : 'Već imate račun?' }}
    <a href="#" (click)="toggleMode(); $event.preventDefault()" [class.disabled]="isLoading">
      {{ isLoginMode ? 'Registrujte se' : 'Prijavite se' }}
    </a>
  </p>

  <p *ngIf="error" class="error-message">{{ error }}</p>
  <p *ngIf="success" class="success-message">{{ success }}</p>
</div>